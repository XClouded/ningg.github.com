<!DOCTYPE html>
<html>
<head>
    <!--
    * Author:         NingG
    -->
    <meta charset="utf-8" />
    <title>MOA的安装 | NingG.github.com</title>
    <meta name="author" content="NingG" />
    <meta name="renderer" content="webkit">
    <meta name="description" content="NingG's Blog" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <link rel="stylesheet" href="/css/default.css" type="text/css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="/atom.xml" />
    <script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>
</head>
<body>

    <div class="home-menu">
        <div class="home-icon-con">
            <a class="home-menu-icon" href="/">NingG</a>
            <a class="home-follow" href="#" title="Contact Me">+</a>
        </div>
        <div class="home-contact">
            <a href="http://weibo.com/ggningg/" target="_blank" style="margin-left:-5px;"><img src="http://www.weibo.com/favicon.ico" alt="" width="25"/></a>
            <a href="http://www.douban.com/people/ggningg/" target="_blank" style="text-align:center;"><img src="http://www.douban.com/favicon.ico" alt="" width="22"/></a>
			<a href="http://github.com/ningg" alt="" target="_blank" style="text-align:right;"><img src="http://1.gravatar.com/avatar/8b3dcc5605090a24e82cc073aa7f45c7?d=https%3A%2F%2Fidenticons.github.com%2F538ed17e923262911910c39d8fe23ee4.png&amp;r=x&amp;s=140" width="22"/></a>
        </div>
    </div>

    <link rel="stylesheet" href="/js/prettify/prettify.css" />
<style type="text/css">
    body { background:#e8e8e8; }
    @media screen and (max-width: 750px){
        body { background:#fff; }
    }
    @media screen and (max-width: 1020px){
        body { background:#fff; }
    }
</style>

<div id="content">
    <div class="entry">
        <h1 class="entry-title"><a href="/Install-MOA" title="MOA的安装">MOA的安装</a></h1>
        <p class="entry-date">2012-10-15</p>
        <h2>概述</h2>

<h3>目标</h3>

<p>同时查看MOA源代码和Weka的源代码，记录配置过程。</p>

<h3>具体步骤</h3>

<ol>
<li>搭建<a href="http://www.cs.waikato.ac.nz/ml/weka/" title="Waikato Environment for Knowledge Analysis">weka</a>环境，使其独立运行，无错误;</li>
<li>重新搭建<a href="http://moa.cs.waikato.ac.nz" title="Massive Online Analysis">MOA</a>环境，使其独立运行，无错误;</li>
<li>如何在<a href="http://moa.cs.waikato.ac.nz" title="Massive Online Analysis">MOA</a>独立环境中查看<a href="http://www.cs.waikato.ac.nz/ml/weka/" title="Waikato Environment for Knowledge Analysis">weka</a>源代码;</li>
</ol>


<h3>参考资料</h3>

<ul>
<li><a href="http://moa.cs.waikato.ac.nz" title="Massive Online Analysis">MOA</a>官网</li>
<li><a href="http://www.cs.waikato.ac.nz/ml/weka/" title="Waikato Environment for Knowledge Analysis">weka</a>官网</li>
<li><a href="http://www.google.com/ncr" title="google search engine">google</a>、<a href="http://www.baidu.com" title="baidu search engine">baidu</a>搜索</li>
</ul>


<h2>搭建Weka环境</h2>

<h3>主要参考来源</h3>

<ul>
<li><a href="http://www.cs.waikato.ac.nz/ml/weka/" title="Waikato Environment for Knowledge Analysis">weka</a></li>
<li><a href="http://weka.wikispaces.com/Frequently+Asked+Questions" title="weka Frequently Asked Questions">weka-FAQ</a></li>
</ul>


<h3>详细步骤</h3>

<h4>可执行文件方式，搭建weka环境</h4>

<p>从<a href="http://www.cs.waikato.ac.nz/ml/weka/" title="Waikato Environment for Knowledge Analysis">weka官网</a>中下载Weka安装文件。由于目前支持<code>MOA</code>的<code>Weka</code>必须是<code>3.7.X</code>以上版本，本次选择下载<code>weka-3.7-7</code></p>

<p>操作系统环境：</p>

<pre><code>win XP Professional 5.1.2600 Service Pack 3 内部版本号2600 基于X86
</code></pre>

<p>可选择的Weka安装文件类型：</p>

<ol>
<li><code>weka-3-7-7.exe</code>(<code>windows X86</code>)需要安装，系统自动配置环境。</li>
<li><code>weka-3-7-7.zip</code>无需安装，手动进入目录，使用命令行启动图形界面。</li>
</ol>


<p>本次选择<code>weka-3-7-7.zip</code>，解压之后，运行方式：</p>

<pre><code>java –Xmx1000M –jar weka.jar
</code></pre>

<p>为了便于今后运行<code>weka</code>方便，我写了个<code>weka-start.bat</code>文件：</p>

<pre><code class="bat">d:
cd "\reference\data mining\数据挖掘\weka\weka 安装文件\weka-3-7-7"
java -Xmx1000M -jar weka.jar
</code></pre>

<p><strong>说明</strong> ：对应于上面bat文件，本地<code>weka-3-7-7.zip</code>解压目录为：</p>

<pre><code>D：\reference\data mining\数据挖掘\weka\weka 安装文件\weka-3-7-7
</code></pre>

<p><strong>注意</strong> ：运行<code>weka</code>之前，需要安装<code>JDK</code>，具体版本，查看：</p>

<p>   <a href="http://www.cs.waikato.ac.nz/ml/weka/" title="Waikato Environment for Knowledge Analysis">weka官网</a> <code>Requirements</code>目录</p>

<h4>源码方式，搭建weka环境</h4>

<p>使用<code>weka</code>源码，在<code>eclipse</code>下，搭建<code>weka</code>工程。</p>

<p><code>weka</code>源码位置：</p>

<pre><code>//weka-3-7-7.exe(windows X86)
安装目录下“weka-src.jar”
//weka-3-7-7.zip
解压目录下“weka-src.jar”
</code></pre>

<p>或者，通过<code>subversion</code>来获得源码：</p>

<pre><code>http://weka.wikispaces.com/Subversion
</code></pre>

<p>解压<code>weka-src.jar</code>得到如下文件列表：</p>

<pre><code>//Ant build file for weka.
build.xml
//ANT file for generating JFlex/CUP parsers.
parsers.xml
/*POM是项目对象模型(Project Object Model)的简称，
 *它是Maven项目中的文件，使用XML表示，名称叫做pom.xml。
 *在Maven中，当谈到Project的时候，不仅仅是一堆包含代码的文件。
 *一个Project往往包含一个配置文件，包括了与开发者有关的，缺陷跟踪系统，
 *组织与许可，项目的URL，项目依赖，以及其他。它包含了所有与这个项目相关
 *的东西。事实上，在Maven世界中，project可以什么都没有，
 *甚至没有代码，但是必须包含pom.xml文件。
 */
pom.xml
.classpath.default
.project.default
</code></pre>

<p>【说明】：更详细的内容，请自行查找<code>maven</code>、<code>ant</code>的知识。</p>

<pre><code>在eclipse中File  –&gt;  import –&gt;  existing Maven Projects ，选择weka-src的解压目录。
</code></pre>

<p>OK，至此，导入源代码成功（如果没有成功，请反复再看看前面的操作细节）。</p>

<p>从源代码运行<code>weka</code>
找出<code>java</code>文件：</p>

<pre><code>/weka-dev/src/main/java/weka/gui/GUIChooser.java
</code></pre>

<p>运行其中的<code>main</code>函数即可。</p>

<h4>附录：Maven知识</h4>

<p>[目标]：<code>maven</code>可以完成什么工作？怎么完成？单独写一个文档。
(doing...)</p>

<h2>搭建MOA环境</h2>

<h3>主要参考来源</h3>

<ul>
<li>MOA自带文档<a href="http://heanet.dl.sourceforge.net/project/moa-datastream/documentation/Manual.pdf" title="MOA Manual Documentation">Manual.pdf</a>中<code>Installation</code>部分。</li>
</ul>


<h3>详细步骤</h3>

<h4>源码方式，搭建MOA环境</h4>

<p>下载文件：<a href="http://moa.cms.waikato.ac.nz/downloads/" title="MOA download site">MOA download</a>中下载<code>MOA Release 2012.08</code></p>

<p>解压并分析文件</p>

<pre><code>//启动moa图形界面的文件：moa.bat、moa.sh
bin

//api文档（html版本），moa手册：Manual.pdf、StreamMining.pdf、 Tutorial1.pdf、Tutorial2.pdf
doc

//moa自带的Tutorial2.pdf中例子2的源代码。
examples

//moa对应生成的可执行jar包
lib

//开源软件声明信息
license

//源码文件
src

//编译后，可执行的moa包
moa.jar

//用于测试java对象所占内存大小，所需要的包。
sizeofag.jar
</code></pre>

<p>在eclipse下新建<code>java</code>工程，并将<code>src</code>文件夹下的源代码文件夹复制到工程的<code>src</code>目录下；注意所需<code>jar</code>包也需要添加进去。</p>

<p>工程运行，需要<code>weka.jar</code>包的支持，因此，下载<code>weka3.7.0</code>以上的版本，并添加到<code>java project</code>的路径中。</p>

<p>仔细观察，发现上面操作之后，<code>java</code>工程仍然提示有错，无法运行。打开出错的<code>java</code>源文件，发现<code>import moa.core.Globals</code>出，提示<code>cannot be resolved</code>。</p>

<p><strong>解决办法</strong> ：刚才<code>src</code>下添加的源文件，有2个<code>moa</code>文件夹，将占存储小的<code>moa</code>文件夹下源文件，复制到另一个<code>moa</code>文件夹下，保持文件夹内的相对路径不变。</p>

<p><strong>注意</strong> ：<code>moa</code>的<code>2012.08</code>版本中，使用<code>junit4</code>进行的单元测试。原因：<code>test/moa/integration/SimpleClusterTest.java</code> 中<code>import org.junit.Test;</code>存在于<code>junit4</code>中（<code>junit3</code>中不存在此用法）。</p>

<p>从源代码运行<code>weka</code>
找出<code>java</code>文件：</p>

<pre><code>/moa/src/moa/gui/GUI.java
</code></pre>

<p>运行其中的<code>main</code>函数即可。</p>

<h4>附录：Junit4知识</h4>

<p>目标：<code>Junit4</code>的有什么用？怎么用？单独写一个文档。</p>

<h2>MOA环境下，查看weka源代码</h2>

<p>在搭建好<code>MOA</code>环境之后，有些程序继承自<code>weka</code>，<code>Ctrl+”点击code”</code>方式查看源代码时，会弹出如下界面：</p>

<p><img src="/images/install-moa/attach-sourcecode.jpg" alt="attach-src" /></p>

<p><strong>解决办法</strong> ：点击上面的“Attach Source”按钮，并添加<code>weka-src.jar</code>包即可。</p>


        <div id="disqus_container">
            <div style="margin-bottom:20px" class="right">
                <script type="text/javascript" charset="utf-8">
                (function(){
                  var _w = 86 , _h = 16;
                  var param = {
                    url:location.href,
                    type:'6',
                    count:'', /**是否显示分享数，1显示(可选)*/
                    appkey:'', /**您申请的应用appkey,显示分享来源(可选)*/
                    title:'', /**分享的文字内容(可选，默认为所在页面的title)*/
                    pic:'', /**分享图片的路径(可选)*/
                    ralateUid:'2356527183', /**关联用户的UID，分享微博会@该用户(可选)*/
                    language:'zh_cn', /**设置语言，zh_cn|zh_tw(可选)*/
                    rnd:new Date().valueOf()
                  }
                  var temp = [];
                  for( var p in param ){
                    temp.push(p + '=' + encodeURIComponent( param[p] || '' ) )
                  }
                  document.write('<iframe allowTransparency="true" frameborder="0" scrolling="no" src="http://hits.sinajs.cn/A1/weiboshare.html?' + temp.join('&') + '" width="'+ _w+'" height="'+_h+'"></iframe>')
                })()
                </script>
            </div>
            <a href="#" class="comment" onclick="return false;">点击查看评论</a>
            <div id="disqus_thread"></div>
        </div>
    </div>

	
    <div class="sidenav">
		<iframe width="100%" height="75" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=0&noborder=0&isWeibo=0&isFans=0&uid=2356527183&verifier=1ccfb61e&colors=d6f3f7,ffffff,666666,0082cb,ecfbfd&dpc=1"></iframe>
    </div>

    <div class="sidenav">
        <h2>Blog</h2>
        <ul class="artical-list">
        
            <li><a href="/how-to-use-lib">使用数据库查找材料</a></li>
        
            <li><a href="/what-model-is">模型是什么？</a></li>
        
            <li><a href="/lixiaolai-blog">lixiaolai's blog</a></li>
        
        </ul>

        <h2>Opinion</h2>
        <ul class="artical-list">
        
        </ul>

        <h2>Project</h2>
        <ul class="artical-list">
        
            <li><a href="/moa-random-tree-generator">MOA中RandomTreeGenerator[Basic]</a></li>
        
            <li><a href="/moa-sourcecode-with-eclipse">Eclipse下查看MOA源代码</a></li>
        
            <li><a href="/Install-MOA">MOA的安装</a></li>
        
        </ul>
    </div>
</div>

<script src="/js/post.js" type="text/javascript"></script>


    <!--*********************************************************-->
    <!--****** 宝贝儿，看见这个时候，删掉下面的统计代码哦~ ******-->
    <!--************* 再推荐下我的第一篇博客哦~~ ****************-->
    <!--*********************************************************-->
	<script>
	  (function(i,s,o,g,r,a,m){
		  i['GoogleAnalyticsObject']=r;i[r]=i[r] || function(){
			(i[r].q=i[r].q||[]).push(arguments)}, i[r].l=1*new Date();
			a=s.createElement(o), m=s.getElementsByTagName(o)[0];
			a.async=1;
			a.src=g;
			m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-48535193-1', 'ningg.github.io');
	  ga('send', 'pageview');
	</script>
    
	
    <script type="text/javascript">
        $(function(){
            $('.home-follow').click(function(e){
                e.preventDefault();

                if($('.home-contact').is(':visible')){
                    $('.home-contact').slideUp(100);
                }else{
                    $('.home-contact').slideDown(100);
                }
            });
        })
    </script>
</body>
</html>
