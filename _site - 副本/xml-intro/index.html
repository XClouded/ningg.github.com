<!DOCTYPE html>
<html xmlns:wb="http://open.weibo.com/wb">
<head>
    <!--   Author: NingG   -->
    <meta charset="utf-8" />
	<meta property="wb:webmaster" content="7ea7f3d5f3edad6a" />
    <title>XML文件入门 | ningg.top</title>
    <meta name="author" content="NingG" />
    <meta name="renderer" content="webkit">
    <meta name="description" content=" 如何写一个xml文件？特别是一个xml文件的头部内容如何写？  " />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">

    <link rel="stylesheet" href="/css/default.css" type="text/css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="" />
	
    <script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>
	<script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
	
    <div class="home-menu">
        <div class="home-icon-con">
            <a class="home-menu-icon" href="/">NingG</a>
            <a class="home-follow" href="#" title="Contact Me">+</a>
        </div>
        <div class="home-contact">
            <a href="http://weibo.com/ggningg/" target="_blank" style="margin-left:-5px;"><img src="http://www.weibo.com/favicon.ico" alt="" width="25"/></a>
            <a href="http://www.douban.com/people/ggningg/" target="_blank" style="text-align:center;"><img src="http://www.douban.com/favicon.ico" alt="" width="22"/></a>
			<a href="http://github.com/ningg" alt="" target="_blank" style="text-align:right;"><img src="/images/icon-cube-smaller.png" width="22"/></a>
        </div>
    </div>

    <link rel="stylesheet" href="/js/prettify/prettify.css" />
<style type="text/css">
    body { background:#e8e8e8; }
    @media screen and (max-width: 750px){
        body { background:#fff; }
    }
    @media screen and (max-width: 1020px){
        body { background:#fff; }
    }
</style>

<div id="content">
    <div class="entry">
        <h1 class="entry-title"><a href="/xml-intro" title="XML文件入门">XML文件入门</a></h1>
        <p class="entry-date">2013-04-09</p>
        <h2 id="xml">XML文件，是什么？</h2>

<p>几点：</p>

<ul>
  <li>XML，可扩展标记语言（EXtensible Markup Language）；</li>
  <li>XML，一种标记语言，很类似HTML；</li>
  <li>XML，设计宗旨是：传输数据，而非显示数据；</li>
  <li>XML，用于传输、存储数据；</li>
  <li>XML，标签没有被预定义，需要自己定义标签；</li>
  <li>XML，具有自我描述性；<em>（什么含义？）</em></li>
</ul>

<h2 id="section">怎么写？</h2>

<h3 id="xml-1">规范的XML</h3>

<p>书写规范的XML（well formed），遵循几个原则：</p>

<ul>
  <li>必须有根元素；</li>
  <li>必须有关闭标签；</li>
  <li>标签对大小写敏感；</li>
  <li>元素之间，必须正确的嵌套；</li>
  <li>属性必须添加引号；</li>
</ul>

<p>下面是一段书写规范的XML：</p>

<pre><code>&lt;?xml version="1.0" encoding="ISO-8859-1" ?&gt;
&lt;note&gt;
	&lt;to&gt;George&lt;/to&gt;
	&lt;from&gt;John&lt;/from&gt;
&lt;/note&gt;
</code></pre>

<p>第一行是XML声明，定义XML的版本（1.0）和所使用的编码（ISO-8859-1 = Latin-1/西欧字符集），此行必须为第一行，其告诉XML解析器如何工作。</p>

<p>XML中的注释：<code>&lt;!-- This is a comment --&gt;</code></p>

<h3 id="xml-2">合法的XML</h3>

<h4 id="xml-dtd">XML DTD</h4>

<p>XML DTD定义XML文档的结构，并且验证XML文档是否合法，一个DTD文档，举例：</p>

<pre><code>&lt;!DOCTYPE note [
  &lt;!ELEMENT note (to,from,heading,body)&gt;
  &lt;!ELEMENT to      (#PCDATA)&gt;
  &lt;!ELEMENT from    (#PCDATA)&gt;
  &lt;!ELEMENT heading (#PCDATA)&gt;
  &lt;!ELEMENT body    (#PCDATA)&gt;
]&gt; 
</code></pre>

<p>一个添加了外部DTD验证的XML文件：</p>

<pre><code>&lt;?xml version="1.0" encoding="ISO-8859-1" ?&gt;
&lt;!DOCTYPE note SYSTEM "Note.dtd"&gt;
...
</code></pre>

<p>思考：上述<code>&lt;!DOCTYPE...&gt;</code>中每个字段的含义？</p>

<h4 id="xml-schemaxsd">XML Schema（XSD）</h4>

<p>XML Schema是XML DTD的替代者；举例，一个XML Schema文档内容如下：</p>

<pre><code>&lt;xs:element name="note"&gt;

&lt;xs:complexType&gt;
  &lt;xs:sequence&gt;
	&lt;xs:element name="to"      type="xs:string"/&gt;
	&lt;xs:element name="from"    type="xs:string"/&gt;
	&lt;xs:element name="heading" type="xs:string"/&gt;
	&lt;xs:element name="body"    type="xs:string"/&gt;
  &lt;/xs:sequence&gt;
&lt;/xs:complexType&gt;

&lt;/xs:element&gt; 
</code></pre>

<p>疑问：如何在xml中引入上述xml schema？RE：通过下文中提到的<code>schemaLocation</code>属性设定。</p>

<h3 id="section-1">命名空间</h3>

<p>由于标签的名称都是有开发者自己定义的，当两个不同的文档使用相同的标签名称时，就会发生命名冲突。解决办法：标签添加前缀来避免命名冲突。举例：</p>

<pre><code>&lt;h:table&gt;
   &lt;h:tr&gt;
   &lt;h:td&gt;Apples&lt;/h:td&gt;
   &lt;h:td&gt;Bananas&lt;/h:td&gt;
   &lt;/h:tr&gt;
&lt;/h:table&gt;
</code></pre>

<p><strong>思考</strong>：命名空间，什么作用？上述标签方式，已经解决标签的命名冲突了，命名空间本质是就是标签前缀，用于解决标签命名冲突问题。</p>

<p>在第一个添加前缀的标签内，增加属性<code>xmlns:prefix</code>属性，并且为其指定一个URI，则，所有带有相同前缀的子元素都会与同一个命名空间相关联。具体，参考下面：</p>

<pre><code>&lt;h:table xmlns:h="http://www.w3.org/TR/html4/"&gt;
   &lt;h:tr&gt;
   &lt;h:td&gt;Apples&lt;/h:td&gt;
   &lt;h:td&gt;Bananas&lt;/h:td&gt;
   &lt;/h:tr&gt;
&lt;/h:table&gt;
</code></pre>

<p><strong>解释</strong>：上述<code>xmlns:h</code>属性后面的URI地址，唯一作用是给命名空间设定一个名称，XML解析器并不会去这个URL上查找信息；不过，很多公司常常将<code>xmlns:h</code>指向一个真实存在的地址，并且在这一地址介绍命名空间的相关信息。</p>

<h3 id="section-2">默认的命名空间</h3>

<p>直接使用默认的命名空间，即设定属性<code>xmlns</code>，则可以省去所有子元素中使用前缀的工作。</p>

<pre><code>&lt;table xmlns="http://www.w3.org/TR/html4/"&gt;
   &lt;tr&gt;
   &lt;td&gt;Apples&lt;/td&gt;
   &lt;td&gt;Bananas&lt;/td&gt;
   &lt;/tr&gt;
&lt;/table&gt;
</code></pre>

<h3 id="xml--schema">在 XML 文档中引用 Schema</h3>

<p>此 XML 文档含有对 XML Schema 的引用：</p>

<pre><code>&lt;?xml version="1.0"?&gt;

&lt;note xmlns="http://www.w3school.com.cn"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xsi:schemaLocation="http://www.w3school.com.cn note.xsd"&gt;

	&lt;to&gt;George&lt;/to&gt;
	&lt;from&gt;John&lt;/from&gt;
	&lt;heading&gt;Reminder&lt;/heading&gt;
	&lt;body&gt;Don't forget the meeting!&lt;/body&gt;
&lt;/note&gt;
</code></pre>

<h4 id="section-3">代码解释：</h4>

<p>下面的片断：</p>

<pre><code>xmlns="http://www.w3school.com.cn" 
</code></pre>

<p>规定了默认命名空间的声明。此声明会告知 schema 验证器，在此 XML 文档中使用的所有元素都被声明于 “http://www.w3school.com.cn” 这个命名空间。</p>

<p>下面赋值将获取XML Schema 实例命名空间：<em>（对应URL是网络上不可变的物理空间，XML规范规定的）</em></p>

<pre><code>xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
</code></pre>

<p>获取了上述XML Schema实例之后，通过使用其schemaLocation 属性可以指定命名空间对应的xsd校验文件，具体此属性包含 2 个值：命名空间和命名空间对应的XML schema文档：</p>

<pre><code>xsi:schemaLocation="http://www.w3school.com.cn note.xsd"
</code></pre>

<p>疑问：</p>

<ul>
  <li>上述<code>xmlns:xsi</code>属性的详细含义？</li>
  <li><code>xmlns:xsi</code>取值，只能为<code>http://www.w3.org/2001/XMLSchema-instance</code>？</li>
  <li><code>schemaLocation</code>的含义？</li>
</ul>

<p>RE：<em>(可能理解有误，当前如此理解)</em></p>

<ul>
  <li>使用<code>http://www.w3.org/2001/XMLSchema-instance</code>作为URL，设定的<code>xmlns:xsi</code>，其中这一URL是网络上的唯一标识，而后缀名<code>xsi</code>可以随意取；</li>
  <li>以<code>http://www.w3.org/2001/XMLSchema-instance</code>作为URL的命名空间，自带有4个属性：type、nil、schemaLocation、noNamespaceSchemaLocation；<em>（具体参考<a href="http://www.w3.org/TR/xmlschema-1/#xsi_type">xsi - type</a>和<a href="http://www.w3.org/TR/xmlschema-1/#no-xsi">XML build-in attribute declarations</a>）</em></li>
  <li>特别说明，只有上面的URL作为命名空间时，带有默认属性<code>schemaLocation</code>，这一属性用于指定不同命名空间、及其对应的检验文件；</li>
</ul>

<p>关于<code>schemaLocation</code>，几点：</p>

<ul>
  <li>作用：设定命名空间（namespace）对应的校验文档；</li>
  <li>命名空间URI与对应的校验文档位置，成对出现，并且以<code> </code>（空格）来分隔；</li>
</ul>

<h2 id="section-4">参考来源</h2>

<ul>
  <li><a href="http://www.w3school.com.cn/x.asp">W3School-XML系列教程</a></li>
  <li><a href="http://www.w3school.com.cn/schema/schema_howto.asp">如何使用XSD？</a></li>
  <li><a href="http://www.w3school.com.cn/schema/schema_schema.asp">XSD - schema 元素</a></li>
  <li><a href="http://www.cnblogs.com/martin-chen/archive/2011/02/24/xml-studynote-namespace.html">XML学习笔记（一）：XML中的命名空间</a></li>
  <li><a href="http://www.w3school.com.cn/schema/schema_example.asp">一个 XSD 实例</a></li>
  <li><a href="http://www.w3.org/TR/xmlschema-1/#xsi_type">xsi - type</a></li>
  <li><a href="http://www.w3.org/TR/xmlschema-1/#xsi.schemaLocation">Attribute Declaration for the attribute ‘schemaLocation’</a></li>
  <li><a href="http://stackoverflow.com/questions/2615892/is-xmlnsxsi-http-www-w3-org-2001-xmlschema-instance-a-special-case-in-xml">Is xsi a special case in XML?</a></li>
</ul>



        <div id="disqus_container">
            <div style="margin-bottom:20px" class="right">
				<wb:share-button appkey="2306590132" addition="simple" type="button" ralateUid="2356527183"></wb:share-button>
            </div>
            <!--<a href="#" class="comment" onclick="return false;">点击查看评论</a>-->
            <div id="disqus_thread"></div>
        </div>
    </div>

	
    <div class="sidenav">
		<iframe width="100%" height="75" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=0&noborder=0&isWeibo=0&isFans=0&uid=2356527183&verifier=1ccfb61e&colors=d6f3f7,ffffff,666666,0082cb,ecfbfd&dpc=1"></iframe>
    </div>

</div>

<script src="/js/post.js" type="text/javascript"></script>


	<div id="gotoTop">Top</div>


    <!--*********************************************************-->
    <!--****** 宝贝儿，看见这个时候，删掉下面的统计代码哦~ ******-->
    <!--*********************************************************-->
	<script>
	  (function(i,s,o,g,r,a,m){
		  i['GoogleAnalyticsObject']=r;i[r]=i[r] || function(){
			(i[r].q=i[r].q||[]).push(arguments)}, i[r].l=1*new Date();
			a=s.createElement(o), m=s.getElementsByTagName(o)[0];
			a.async=1;
			a.src=g;
			m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-48535193-1', 'ningg.github.io');
	  ga('send', 'pageview');
	</script>
    
	
    <script type="text/javascript">
		function gotoTop(min_height){
			$("#gotoTop").click(
				function(){$('html,body').animate({scrollTop:0},700);
			}).hover(
				function(){$(this).addClass("hover");},
				function(){$(this).removeClass("hover");
			});
			min_height ? min_height = min_height : min_height = 600;
			$(window).scroll(function(){
				
				var s = $(window).scrollTop();
				
				if( s > min_height){
					$("#gotoTop").fadeIn(100);
				}else{
					$("#gotoTop").fadeOut(200);
				};
			});
		};
		gotoTop();

        $(function(){
            $('.home-follow').click(function(e){
                e.preventDefault();

                if($('.home-contact').is(':visible')){
                    $('.home-contact').slideUp(100);
                }else{
                    $('.home-contact').slideDown(100);
                }
            });
        })

    </script>
</body>
</html>
