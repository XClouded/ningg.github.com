<!DOCTYPE html>
<html xmlns:wb="http://open.weibo.com/wb">
<head>
    <!--   Author: NingG   -->
    <meta charset="utf-8" />
	<meta property="wb:webmaster" content="7ea7f3d5f3edad6a" />
    <title>Redis README | ningg.top</title>
    <meta name="author" content="NingG" />
    <meta name="renderer" content="webkit">
    <meta name="description" content=" 原文阅读  " />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">

    <link rel="stylesheet" href="/css/default.css" type="text/css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="" />
	
    <script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>
	<script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
	
    <div class="home-menu">
        <div class="home-icon-con">
            <a class="home-menu-icon" href="/">NingG</a>
            <a class="home-follow" href="#" title="Contact Me">+</a>
        </div>
        <div class="home-contact">
            <a href="http://weibo.com/ggningg/" target="_blank" style="margin-left:-5px;"><img src="http://www.weibo.com/favicon.ico" alt="" width="25"/></a>
            <a href="http://www.douban.com/people/ggningg/" target="_blank" style="text-align:center;"><img src="http://www.douban.com/favicon.ico" alt="" width="22"/></a>
			<a href="http://github.com/ningg" alt="" target="_blank" style="text-align:right;"><img src="/images/icon-cube-smaller.png" width="22"/></a>
        </div>
    </div>

    <link rel="stylesheet" href="/js/prettify/prettify.css" />
<style type="text/css">
    body { background:#e8e8e8; }
    @media screen and (max-width: 750px){
        body { background:#fff; }
    }
    @media screen and (max-width: 1020px){
        body { background:#fff; }
    }
</style>

<div id="content">
    <div class="entry">
        <h1 class="entry-title"><a href="/redis-readme" title="Redis README">Redis README</a></h1>
        <p class="entry-date">2013-05-13</p>
        <h2 id="where-to-find-complete-redis-documentation">Where to find complete Redis documentation?</h2>

<p>This README is just a fast “quick start” document. You can find more detailed
documentation at http://redis.io</p>

<h2 id="building-redis">Building Redis</h2>

<p>Redis can be compiled and used on Linux, OSX, OpenBSD, NetBSD, FreeBSD.
We support big endian and little endian architectures.</p>

<p>It may compile on Solaris derived systems (for instance SmartOS) but our
support for this platform is “best effort” and Redis is not guaranteed to
work as well as in Linux, OSX, and *BSD there.</p>

<p>It is as simple as:</p>

<pre><code>% make
</code></pre>

<p>You can run a 32 bit Redis binary using:</p>

<pre><code>% make 32bit
</code></pre>

<p>After building Redis is a good idea to test it, using:</p>

<pre><code>% make test
</code></pre>

<p>Fixing build problems with dependencies or cached build options
———–
Redis has some dependencies which are included into the “deps” directory.
“make” does not rebuild dependencies automatically, even if something in the
source code of dependencies is changes.</p>

<p>When you update the source code with <code>git pull</code> or when code inside the
dependencies tree is modified in any other way, make sure to use the following
command in order to really clean everything and rebuild from scratch:</p>

<pre><code>make distclean
</code></pre>

<p>This will clean: jemalloc, lua, hiredis, linenoise.</p>

<p>Also if you force certain build options like 32bit target, no C compiler
optimizations (for debugging purposes), and other similar build time options,
those options are cached indefinitely until you issue a “make distclean”
command.</p>

<h2 id="fixing-problems-building-32-bit-binaries">Fixing problems building 32 bit binaries</h2>

<p>If after building Redis with a 32 bit target you need to rebuild it
with a 64 bit target, or the other way around, you need to perform a
“make distclean” in the root directory of the Redis distribution.</p>

<p>In case of build errors when trying to build a 32 bit binary of Redis, try
the following steps:</p>

<ul>
  <li>Install the packages libc6-dev-i386 (also try g++-multilib).</li>
  <li>
    <p>Try using the following command line instead of “make 32bit”:</p>

    <p>make CFLAGS=”-m32 -march=native” LDFLAGS=”-m32”</p>
  </li>
</ul>

<h2 id="allocator">Allocator</h2>

<p>Selecting a non-default memory allocator when building Redis is done by setting
the <code>MALLOC</code> environment variable. Redis is compiled and linked against libc
malloc by default, with the exception of jemalloc being the default on Linux
systems. This default was picked because jemalloc has proven to have fewer
fragmentation problems than libc malloc.</p>

<p>To force compiling against libc malloc, use:</p>

<pre><code>% make MALLOC=libc
</code></pre>

<p>To compile against jemalloc on Mac OS X systems, use:</p>

<pre><code>% make MALLOC=jemalloc
</code></pre>

<h2 id="verbose-build">Verbose build</h2>

<p>Redis will build with a user friendly colorized output by default.
If you want to see a more verbose output use the following:</p>

<pre><code>% make V=1
</code></pre>

<h2 id="running-redis">Running Redis</h2>

<p>To run Redis with the default configuration just type:</p>

<pre><code>% cd src
% ./redis-server
</code></pre>

<p>If you want to provide your redis.conf, you have to run it using an additional
parameter (the path of the configuration file):</p>

<pre><code>% cd src
% ./redis-server /path/to/redis.conf
</code></pre>

<p>It is possible to alter the Redis configuration passing parameters directly
as options using the command line. Examples:</p>

<pre><code>% ./redis-server --port 9999 --slaveof 127.0.0.1 6379
% ./redis-server /etc/redis/6379.conf --loglevel debug
</code></pre>

<p>All the options in redis.conf are also supported as options using the command
line, with exactly the same name.</p>

<h2 id="playing-with-redis">Playing with Redis</h2>

<p>You can use redis-cli to play with Redis. Start a redis-server instance,
then in another terminal try the following:</p>

<pre><code>% cd src
% ./redis-cli
redis&gt; ping
PONG
redis&gt; set foo bar
OK
redis&gt; get foo
"bar"
redis&gt; incr mycounter
(integer) 1
redis&gt; incr mycounter
(integer) 2
redis&gt; 
</code></pre>

<p>You can find the list of all the available commands here:</p>

<pre><code>http://redis.io/commands
</code></pre>

<h2 id="installing-redis">Installing Redis</h2>

<p>In order to install Redis binaries into /usr/local/bin just use:</p>

<pre><code>% make install
</code></pre>

<p>You can use “make PREFIX=/some/other/directory install” if you wish to use a
different destination.</p>

<p>Make install will just install binaries in your system, but will not configure
init scripts and configuration files in the appropriate place. This is not
needed if you want just to play a bit with Redis, but if you are installing
it the proper way for a production system, we have a script doing this
for Ubuntu and Debian systems:</p>

<pre><code>% cd utils
% ./install_server.sh
</code></pre>

<p>The script will ask you a few questions and will setup everything you need
to run Redis properly as a background daemon that will start again on
system reboots.</p>

<p>You’ll be able to stop and start Redis using the script named
/etc/init.d/redis_<portnumber>, for instance /etc/init.d/redis_6379.</portnumber></p>

<h2 id="code-contributions">Code contributions</h2>

<p>Note: by contributing code to the Redis project in any form, including sending
a pull request via Github, a code fragment or patch via private email or
public discussion groups, you agree to release your code under the terms
of the BSD license that you can find in the COPYING file included in the Redis
source distribution.</p>

<p>Please see the CONTRIBUTING file in this source distribution for more
information.</p>

<p>Enjoy!</p>

<h2 id="section">参考来源</h2>

<ul>
  <li><a href="http://redis.io/download">Redis源码包中README文件</a></li>
</ul>



        <div id="disqus_container">
            <div style="margin-bottom:20px" class="right">
				<wb:share-button appkey="2306590132" addition="simple" type="button" ralateUid="2356527183"></wb:share-button>
            </div>
            <!--<a href="#" class="comment" onclick="return false;">点击查看评论</a>-->
            <div id="disqus_thread"></div>
        </div>
    </div>

	
    <div class="sidenav">
		<iframe width="100%" height="75" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=0&noborder=0&isWeibo=0&isFans=0&uid=2356527183&verifier=1ccfb61e&colors=d6f3f7,ffffff,666666,0082cb,ecfbfd&dpc=1"></iframe>
    </div>

</div>

<script src="/js/post.js" type="text/javascript"></script>


	<div id="gotoTop">Top</div>


    <!--*********************************************************-->
    <!--****** 宝贝儿，看见这个时候，删掉下面的统计代码哦~ ******-->
    <!--*********************************************************-->
	<script>
	  (function(i,s,o,g,r,a,m){
		  i['GoogleAnalyticsObject']=r;i[r]=i[r] || function(){
			(i[r].q=i[r].q||[]).push(arguments)}, i[r].l=1*new Date();
			a=s.createElement(o), m=s.getElementsByTagName(o)[0];
			a.async=1;
			a.src=g;
			m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-48535193-1', 'ningg.github.io');
	  ga('send', 'pageview');
	</script>
    
	
    <script type="text/javascript">
		function gotoTop(min_height){
			$("#gotoTop").click(
				function(){$('html,body').animate({scrollTop:0},700);
			}).hover(
				function(){$(this).addClass("hover");},
				function(){$(this).removeClass("hover");
			});
			min_height ? min_height = min_height : min_height = 600;
			$(window).scroll(function(){
				
				var s = $(window).scrollTop();
				
				if( s > min_height){
					$("#gotoTop").fadeIn(100);
				}else{
					$("#gotoTop").fadeOut(200);
				};
			});
		};
		gotoTop();

        $(function(){
            $('.home-follow').click(function(e){
                e.preventDefault();

                if($('.home-contact').is(':visible')){
                    $('.home-contact').slideUp(100);
                }else{
                    $('.home-contact').slideDown(100);
                }
            });
        })

    </script>
</body>
</html>
