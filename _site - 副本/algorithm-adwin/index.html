<!DOCTYPE html>
<html xmlns:wb="http://open.weibo.com/wb">
<head>
    <!--   Author: NingG   -->
    <meta charset="utf-8" />
	<meta property="wb:webmaster" content="7ea7f3d5f3edad6a" />
    <title>算法阅读：ADWIN | ningg.top</title>
    <meta name="author" content="NingG" />
    <meta name="renderer" content="webkit">
    <meta name="description" content=" Learning from Time-Changing Data with Adaptive Windowing  " />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">

    <link rel="stylesheet" href="/css/default.css" type="text/css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="" />
	
    <script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>
	<script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
	
    <div class="home-menu">
        <div class="home-icon-con">
            <a class="home-menu-icon" href="/">NingG</a>
            <a class="home-follow" href="#" title="Contact Me">+</a>
        </div>
        <div class="home-contact">
            <a href="http://weibo.com/ggningg/" target="_blank" style="margin-left:-5px;"><img src="http://www.weibo.com/favicon.ico" alt="" width="25"/></a>
            <a href="http://www.douban.com/people/ggningg/" target="_blank" style="text-align:center;"><img src="http://www.douban.com/favicon.ico" alt="" width="22"/></a>
			<a href="http://github.com/ningg" alt="" target="_blank" style="text-align:right;"><img src="/images/icon-cube-smaller.png" width="22"/></a>
        </div>
    </div>

    <link rel="stylesheet" href="/js/prettify/prettify.css" />
<style type="text/css">
    body { background:#e8e8e8; }
    @media screen and (max-width: 750px){
        body { background:#fff; }
    }
    @media screen and (max-width: 1020px){
        body { background:#fff; }
    }
</style>

<div id="content">
    <div class="entry">
        <h1 class="entry-title"><a href="/algorithm-adwin" title="算法阅读：ADWIN">算法阅读：ADWIN</a></h1>
        <p class="entry-date">2012-11-03</p>
        <p>原文来源：</p>

<blockquote>
  <p><a href="http://epubs.siam.org/doi/abs/10.1137/1.9781611972771.42">Learning from Time-Changing Data with Adaptive Windowing. Albert Bifet. Ricard Gavalda. 2006</a></p>
</blockquote>

<hr />

<p>考虑concept_drift的典型data_stream_mining过程为：</p>

<blockquote>
  <ol>
    <li>初次建模；</li>
    <li>检测change；</li>
    <li>更新模型；</li>
    <li>数据存储；</li>
  </ol>
</blockquote>

<p><strong>说明</strong>：”4.数据存储”是辅助前面三个功能的；那么，哪些数据需要存储呢？原始的example数据、最终的统计特征数据、其他中间数据。</p>

<h2 id="adwin">1.ADWIN基本算法</h2>

<p>ADWIN算法，主要为改进<code>2.检测change</code>过程。</p>

<p><code>检测change</code>的主要策略之一是：<code>sliding window</code>(滑动窗口)。使用滑动窗口，通常是比较2个窗口(子窗口)中的统计值；依据2个窗口大小是否相等、两个窗口位置是否固定，可将滑动窗口分为4类（参考<code>MOA</code>自带文档<code>Stream Mining</code>中7.2），如下图：</p>

<p><img src="/images/algorithm-adwin/adwin-sliding-window.jpg" alt="adwin sliding window" /></p>

<p><code>ADWIN</code>比其他动态调整<code>sliding window</code>的算法优越的地方：提出两个界限值（<code>False positive rate bound</code>：窗口内数据流的分布特征值没有改变，但判断失误，导致调整窗口的最大概率；<code>False negative rate bound</code>：窗口内数据流的分布特征值确实发生改变，窗口判断正确，并调整窗口的概率）。</p>

<p>上面是一个简要的介绍，下面将以问答式的探索过程，来重现当时的<code>ADWIN</code>算法产生场景：</p>

<p>在此之前有两个基本的问题：为什么要有滑动窗口？对于一个静态的流，滑动窗口大小是固定的，那这个固定值的大小是依据什么确定的？思考了这两个问题之后，就可以开始下面的问题了。</p>

<blockquote>
  <ul>
    <li><strong>目标</strong>：动态调整滑动窗口大小，这是一个具体的操作；</li>
    <li><strong>什么时候调整滑动窗口</strong>？当检测到change时；</li>
    <li><strong>怎么衡量change</strong>？使用标识data_stream的特征值，如果特征值变化超过某一门限值，则认为，change已经发生，需要进行调整滑动窗口大小；</li>
    <li><strong>特征值都有哪些</strong>？方差、均值等；</li>
    <li><strong>特征值的门限值怎么确定？即，判断标准是什么</strong>？确定特征值的标准是：没有change发生时，判断change已经发生的概率要尽可能小；change已经发生，判断change已经发生的概率要尽可能大，并且速度要尽可能快。</li>
  </ul>
</blockquote>

<p>分析到这，已经可以抽象出数学模型了，数据挖掘的问题已经成功转换为纯正的数学问题。（对于这个问题的问答式探索，不只是上面这一种角度，如果有兴趣可以从其他角度出发，抽象为其他数学问题；当然可能有的角度，探索下去，并不能将问题简化，需要多次尝试）以“没有change发生时，判断change已经发生的概率尽可能小”为数学模型的约束条件为例，抽象得到的数学模型可以描述为：</p>

<p>从一个稳定分布的流中，取两段数据，并求得他们的均值分别为<code>u1</code>、<code>u2</code>，那么求门限值e，使得 <code>|u1-u2|&gt;e</code>的概率小于<code>σ</code>，其中<code>σ</code>为我们设定的概率值。</p>

<p>自己上面的数学描述不是很规范，但基本意思已经表示清楚了，<code>σ</code>在<code>ADWIN</code>中对应的实际意义是：没有<code>change</code>发生时，判断<code>change</code>已经发生的概率。</p>

<h2 id="adwin2">2.ADWIN2算法</h2>

<p><code>ADWIN</code>的初始算法，我们称作：<code>ADWIN0</code>，其存在以下两个缺点：</p>

<blockquote>
  <ol>
    <li><code>possible cutpoint</code>过多，共计<code>W-1</code>个，其中<code>W</code>是<code>sliding window</code>的大小；</li>
    <li><code>slidling window</code>中存储完整的example内容，占用内存过多；</li>
  </ol>
</blockquote>

<p>为克服上面两个问题，对<code>ADWIN0</code>算法进行了改进，得到<code>ADWIN2</code>算法，他在保证算法两个界限值（<code>False positive rate bound</code>、<code>False negative rate bound</code>）基本保持不变的情况下，减少了内存的使用，并且降低了算法处理时间。下面是对<code>ADWIN2</code>的简要说明：</p>

<blockquote>
  <ul>
    <li><code>ADWIN2</code>算法的输入参数<code>M</code>，人为设定，其作用可以参考原论文；</li>
    <li><code>ADWIN2</code>中将原始的<code>sliding window</code>划分为<code>buckets</code>；对于<code>bucket</code>，我个人将其称为<code>subwindow</code>，因为<code>buckets</code>片段构成了整个<code>sliding window</code>；</li>
    <li><code>bucket</code>按大小(size)分为不同的级别：<code>1</code>，<code>2</code>，<code>4</code>，<code>8</code>，…（2的i次幂的形式）</li>
    <li>每个级别的<code>bucket</code>，最多可以同时存在M个；</li>
    <li>当某一个级别<code>bucket</code>存在<code>M+1</code>个时，将合并其中的前2个<code>bucket</code>，构成一个更高一级的<code>bucket</code>；</li>
    <li>以<code>bucket</code>的边界位置，作为<code>possible cutpoint</code>；</li>
    <li><code>last bucket</code>带入了当前的估计误差（因为<code>last_bucket</code>在时间上离现在最远，最不能反应当前<code>data stream</code>的数据特征），因此当检测到<code>change</code>时，就删掉<code>last bucket</code>；</li>
  </ul>
</blockquote>

<p>上面部分都是对于论文的提炼、总结，最基本、最关键的还是对于论文的反复阅读，阅读过程中，可以参考上面自己的总结。</p>

<p><strong>建议</strong>：博客只是辅助，推荐先阅读算法原文，然后逐条的琢磨本blog中的内容。</p>

<hr />



        <div id="disqus_container">
            <div style="margin-bottom:20px" class="right">
				<wb:share-button appkey="2306590132" addition="simple" type="button" ralateUid="2356527183"></wb:share-button>
            </div>
            <!--<a href="#" class="comment" onclick="return false;">点击查看评论</a>-->
            <div id="disqus_thread"></div>
        </div>
    </div>

	
    <div class="sidenav">
		<iframe width="100%" height="75" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=0&noborder=0&isWeibo=0&isFans=0&uid=2356527183&verifier=1ccfb61e&colors=d6f3f7,ffffff,666666,0082cb,ecfbfd&dpc=1"></iframe>
    </div>

</div>

<script src="/js/post.js" type="text/javascript"></script>


	<div id="gotoTop">Top</div>


    <!--*********************************************************-->
    <!--****** 宝贝儿，看见这个时候，删掉下面的统计代码哦~ ******-->
    <!--*********************************************************-->
	<script>
	  (function(i,s,o,g,r,a,m){
		  i['GoogleAnalyticsObject']=r;i[r]=i[r] || function(){
			(i[r].q=i[r].q||[]).push(arguments)}, i[r].l=1*new Date();
			a=s.createElement(o), m=s.getElementsByTagName(o)[0];
			a.async=1;
			a.src=g;
			m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-48535193-1', 'ningg.github.io');
	  ga('send', 'pageview');
	</script>
    
	
    <script type="text/javascript">
		function gotoTop(min_height){
			$("#gotoTop").click(
				function(){$('html,body').animate({scrollTop:0},700);
			}).hover(
				function(){$(this).addClass("hover");},
				function(){$(this).removeClass("hover");
			});
			min_height ? min_height = min_height : min_height = 600;
			$(window).scroll(function(){
				
				var s = $(window).scrollTop();
				
				if( s > min_height){
					$("#gotoTop").fadeIn(100);
				}else{
					$("#gotoTop").fadeOut(200);
				};
			});
		};
		gotoTop();

        $(function(){
            $('.home-follow').click(function(e){
                e.preventDefault();

                if($('.home-contact').is(':visible')){
                    $('.home-contact').slideUp(100);
                }else{
                    $('.home-contact').slideDown(100);
                }
            });
        })

    </script>
</body>
</html>
