<!DOCTYPE html>
<html xmlns:wb="http://open.weibo.com/wb">
<head>
    <!--   Author: NingG   -->
    <meta charset="utf-8" />
	<meta property="wb:webmaster" content="7ea7f3d5f3edad6a" />
    <title>JSON简介以及JAVA API | ningg.top</title>
    <meta name="author" content="NingG" />
    <meta name="renderer" content="webkit">
    <meta name="description" content=" 常用的数据交换格式有XML和JSON，如何进行解析、转换  " />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">

    <link rel="stylesheet" href="/css/default.css" type="text/css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="" />
	
    <script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>
	<script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
	
    <div class="home-menu">
        <div class="home-icon-con">
            <a class="home-menu-icon" href="/">NingG</a>
            <a class="home-follow" href="#" title="Contact Me">+</a>
        </div>
        <div class="home-contact">
            <a href="http://weibo.com/ggningg/" target="_blank" style="margin-left:-5px;"><img src="http://www.weibo.com/favicon.ico" alt="" width="25"/></a>
            <a href="http://www.douban.com/people/ggningg/" target="_blank" style="text-align:center;"><img src="http://www.douban.com/favicon.ico" alt="" width="22"/></a>
			<a href="http://github.com/ningg" alt="" target="_blank" style="text-align:right;"><img src="/images/icon-cube-smaller.png" width="22"/></a>
        </div>
    </div>

    <link rel="stylesheet" href="/js/prettify/prettify.css" />
<style type="text/css">
    body { background:#e8e8e8; }
    @media screen and (max-width: 750px){
        body { background:#fff; }
    }
    @media screen and (max-width: 1020px){
        body { background:#fff; }
    }
</style>

<div id="content">
    <div class="entry">
        <h1 class="entry-title"><a href="/json-java-api" title="JSON简介以及JAVA API">JSON简介以及JAVA API</a></h1>
        <p class="entry-date">2014-10-24</p>
        <h2 id="section">背景</h2>

<p>最近做个数据采集的东西，初步决定使用JSON作为数据交换格式，OK，学习整理一下。</p>

<h2 id="json">JSON简介</h2>

<p>JSON（JavaScript Object Notation），轻量级的数据交换格式，易于阅读和编写，同时机器也很容易输出JSON格式、解析JSON格式。JSON是完全独立于语言的文本格式，这使其成为理想的数据交换语言。</p>

<p>JSON中两类基本结构：</p>

<ul>
  <li><code>key:value</code>：键-值对，通过key来标识value；</li>
  <li><code>array</code>：有序的数组；</li>
</ul>

<p>JSON利用上述的两类基本结构，实现了集中基本数据类型：</p>

<p><strong>Object</strong>：An object is an unordered set of name/value pairs. An object begins with { (left brace) and ends with } (right brace). Each name is followed by : (colon) and the name/value pairs are separated by <code>,</code> (comma).
（无序的key-value对，以<code>{</code>开头，以<code>}</code>结尾，其内部以<code>,</code>逗号分隔）</p>

<p><img src="/images/json-java-api/object.gif" alt="" /></p>

<p><strong>Array</strong>：An array is an ordered collection of values. An array begins with <code>[</code> (left bracket) and ends with <code>]</code> (right bracket). Values are separated by , (comma).
（有序的value序列，以<code>[</code>开头，以<code>]</code>结尾，其内部以<code>,</code>逗号分隔）</p>

<p><img src="/images/json-java-api/array.gif" alt="" /></p>

<p><strong>Value</strong>：A value can be a string in double quotes, or a number, or true or false or null, or an object or an array. These structures can be nested.
（Value表示的内容比较广，既可以是”“包含起来的String，也可以是数字，或者<code>true</code>`false<code>；另一方面，也可以是</code>Object`或者array）</p>

<p><img src="/images/json-java-api/value.gif" alt="" /></p>

<p><strong>String</strong>：A string is a sequence of zero or more Unicode characters, wrapped in double quotes, using backslash escapes. A character is represented as a single character string. A string is very much like a C or Java string.
（<code>""</code>双引号包含起来的Unicode 字符，其中可以使用<code>backslash</code>来标识转义字符）</p>

<p><img src="/images/json-java-api/string.gif" alt="" /></p>

<p><strong>Number</strong>：A number is very much like a C or Java number, except that the octal and hexadecimal formats are not used.
（不支持octal和hexadecimal formats）</p>

<p><img src="/images/json-java-api/number.gif" alt="" /></p>

<p>Whitespace can be inserted between any pair of tokens. Excepting a few encoding details, that completely describes the language.
（任何符号之间都可插入空格<code>whitespace</code>）</p>

<p><strong>notes(ningg)</strong>：JSON中<code>key</code>能否重复？</p>

<h2 id="jsonjava-api">处理JSON的JAVA API</h2>

<p>处理JSON格式数据，无非两条路：</p>

<ul>
  <li>JDK 自带的 Java API；（官方）</li>
  <li>第三方jar包提供的java API；</li>
</ul>

<p><strong>特别说明</strong>：<a href="https://jcp.org/en/jsr/detail?id=353">JSR 353</a>指出，今后的Java SE 6以及Java EE 7中要添加API来支持JSON格式数据的解析和转换。当前个人查证，在JDK6u30中没有java API来解析JSON；Java EE 7中，已经提供了<code>javax.json</code>包来支持解析JSON。</p>

<p>当前项目需求，在JDK5以及之上的版本都能进行JSON字符串与JSON对象之间的转换，OK，那直接上第三方jar包得了。</p>

<h3 id="javajsonjar">java解析JSON的第三方jar包</h3>

<p>从<a href="http://www.json.org/json-zh.html">JSON 主页</a>可知，当前，有很多的第三方jar包：org.json、org.json.me、jsonp、<a href="http://jackson.codehaus.org/">Jackson Json Processor</a>、<a href="http://code.google.com/p/google-gson/">google-gson</a>、Json-lib…，有点多呀，到底选哪个呢？当前初步考虑在如下两个中选：</p>

<ul>
  <li>Spring中使用的是<a href="http://jackson.codehaus.org/">org.codehaus.jackson</a>详细版本号<code>1.9.13</code>（后来Spring 3.2中已经支持Jackson2了）</li>
  <li><a href="http://code.google.com/p/google-gson/">google-gson</a>的官方网站打不开，不过在maven中央仓库找到了gson的<a href="http://repo1.maven.org/maven2/com/google/code/gson/gson/2.2.3/">jar包</a>，虽然无法查看官网的文档，不过maven中央仓库的javadoc、source文件也可以用来学习。</li>
</ul>

<p>最终决定采用gson，其基本的JSON操作，参考：<a href="http://blog.csdn.net/lk_blog/article/details/7685169">JSON转换利器:Gson</a></p>

<h2 id="json-1">解析JSON字符串的效率问题</h2>

<p><a href="http://ifeve.com/json-java-api/">处理JSON的Java API ：JSON的简介</a>中提到解析JSON的API分为两类：</p>

<ul>
  <li>对象模型API</li>
  <li>流API</li>
</ul>

<p>这两种方式在原理、效率上都有差异，TODO</p>

<h2 id="section-1">参考来源</h2>

<ul>
  <li><a href="http://www.json.org/json-zh.html">介绍 JSON</a></li>
  <li><a href="http://ifeve.com/json-java-api/">处理JSON的Java API ：JSON的简介</a></li>
  <li><a href="https://jcp.org/en/jsr/detail?id=353">JSR 353</a></li>
  <li><a href="http://blog.csdn.net/lk_blog/article/details/7685169">JSON转换利器:Gson</a></li>
</ul>



        <div id="disqus_container">
            <div style="margin-bottom:20px" class="right">
				<wb:share-button appkey="2306590132" addition="simple" type="button" ralateUid="2356527183"></wb:share-button>
            </div>
            <!--<a href="#" class="comment" onclick="return false;">点击查看评论</a>-->
            <div id="disqus_thread"></div>
        </div>
    </div>

	
    <div class="sidenav">
		<iframe width="100%" height="75" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=0&noborder=0&isWeibo=0&isFans=0&uid=2356527183&verifier=1ccfb61e&colors=d6f3f7,ffffff,666666,0082cb,ecfbfd&dpc=1"></iframe>
    </div>

</div>

<script src="/js/post.js" type="text/javascript"></script>


	<div id="gotoTop">Top</div>


    <!--*********************************************************-->
    <!--****** 宝贝儿，看见这个时候，删掉下面的统计代码哦~ ******-->
    <!--*********************************************************-->
	<script>
	  (function(i,s,o,g,r,a,m){
		  i['GoogleAnalyticsObject']=r;i[r]=i[r] || function(){
			(i[r].q=i[r].q||[]).push(arguments)}, i[r].l=1*new Date();
			a=s.createElement(o), m=s.getElementsByTagName(o)[0];
			a.async=1;
			a.src=g;
			m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-48535193-1', 'ningg.github.io');
	  ga('send', 'pageview');
	</script>
    
	
    <script type="text/javascript">
		function gotoTop(min_height){
			$("#gotoTop").click(
				function(){$('html,body').animate({scrollTop:0},700);
			}).hover(
				function(){$(this).addClass("hover");},
				function(){$(this).removeClass("hover");
			});
			min_height ? min_height = min_height : min_height = 600;
			$(window).scroll(function(){
				
				var s = $(window).scrollTop();
				
				if( s > min_height){
					$("#gotoTop").fadeIn(100);
				}else{
					$("#gotoTop").fadeOut(200);
				};
			});
		};
		gotoTop();

        $(function(){
            $('.home-follow').click(function(e){
                e.preventDefault();

                if($('.home-contact').is(':visible')){
                    $('.home-contact').slideUp(100);
                }else{
                    $('.home-contact').slideDown(100);
                }
            });
        })

    </script>
</body>
</html>
