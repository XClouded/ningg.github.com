<!DOCTYPE html>
<html xmlns:wb="http://open.weibo.com/wb">
<head>
    <!--   Author: NingG   -->
    <meta charset="utf-8" />
	<meta property="wb:webmaster" content="7ea7f3d5f3edad6a" />
    <title>Ganglia 3.6.1：Ganglia Meta Daemon v3.6.1 Configuration | ningg.top</title>
    <meta name="author" content="NingG" />
    <meta name="renderer" content="webkit">
    <meta name="description" content=" Ganglia官方文档：Gmetad的配置信息  " />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">

    <link rel="stylesheet" href="/css/default.css" type="text/css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="" />
	
    <script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>
	<script src="http://tjs.sjs.sinajs.cn/open/api/js/wb.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
	
    <div class="home-menu">
        <div class="home-icon-con">
            <a class="home-menu-icon" href="/">NingG</a>
            <a class="home-follow" href="#" title="Contact Me">+</a>
        </div>
        <div class="home-contact">
            <a href="http://weibo.com/ggningg/" target="_blank" style="margin-left:-5px;"><img src="http://www.weibo.com/favicon.ico" alt="" width="25"/></a>
            <a href="http://www.douban.com/people/ggningg/" target="_blank" style="text-align:center;"><img src="http://www.douban.com/favicon.ico" alt="" width="22"/></a>
			<a href="http://github.com/ningg" alt="" target="_blank" style="text-align:right;"><img src="/images/icon-cube-smaller.png" width="22"/></a>
        </div>
    </div>

    <link rel="stylesheet" href="/js/prettify/prettify.css" />
<style type="text/css">
    body { background:#e8e8e8; }
    @media screen and (max-width: 750px){
        body { background:#fff; }
    }
    @media screen and (max-width: 1020px){
        body { background:#fff; }
    }
</style>

<div id="content">
    <div class="entry">
        <h1 class="entry-title"><a href="/ganglia-gmetad-conf" title="Ganglia 3.6.1：Ganglia Meta Daemon v3.6.1 Configuration">Ganglia 3.6.1：Ganglia Meta Daemon v3.6.1 Configuration</a></h1>
        <p class="entry-date">2014-12-06</p>
        <p>This is an example of a Ganglia Meta Daemon configuration file
                http://ganglia.sourceforge.net/</p>

<hr />
<p>##debug_level</p>

<p>Setting the debug_level to 1 will keep daemon in the forground and
 show only error messages. Setting this value higher than 1 will make
 gmetad output debugging information and stay in the foreground.</p>

<pre><code>#default: 0
debug_level 10
</code></pre>

<hr />
<p>What to monitor. The most important section of this file.</p>

<p>The data_source tag specifies either a cluster or a grid to
 monitor. If we detect the source is a cluster, we will maintain a complete
 set of RRD databases for it, which can be used to create historical
 graphs of the metrics. If the source is a grid (it comes from another gmetad),
 we will only maintain summary RRDs for it.</p>

<p>Format:</p>

<pre><code>data_source "my cluster" [polling interval] address1:port addreses2:port ...
</code></pre>

<p>The keyword ‘data_source’ must immediately be followed by a unique
 string which identifies the source, then an optional <code>polling interval</code> in
 seconds. The source will be polled at this interval on average.
 If the polling interval is omitted, <code>15sec</code> is asssumed.</p>

<p>If you choose to set the polling interval to something other than the default,
 note that the web frontend determines a host as down if its TN value is less
 than 4 * TMAX (20sec by default).  Therefore, if you set the polling interval
 to something around or greater than 80sec, this will cause the frontend to
 incorrectly display hosts as down even though they are not.</p>

<p>A list of machines which service the data source follows, in the
 format ip:port, or name:port. If a port is not specified then 8649
 (the default gmond port) is assumed.
 default: There is no default value</p>

<p>data_source “my cluster” 10 localhost  my.machine.edu:8649  1.2.3.5:8655
 data_source “my grid” 50 1.3.4.7:8655 grid.org:8651 grid-backup.org:8651
 data_source “another source” 1.3.4.7:8655  1.3.4.8</p>

<p>data_source “RT-SYS” localhost</p>

<p>Round-Robin Archives
 You can specify custom Round-Robin archives here (defaults are listed below)</p>

<p>Old Default RRA: Keep 1 hour of metrics at 15 second resolution. 1 day at 6 minute
 RRAs “RRA:AVERAGE:0.5:1:244” “RRA:AVERAGE:0.5:24:244” “RRA:AVERAGE:0.5:168:244” “RRA:AVERAGE:0.5:672:244” \
      “RRA:AVERAGE:0.5:5760:374”
 New Default RRA
 Keep 5856 data points at 15 second resolution assuming 15 second (default) polling. That’s 1 day
 Two weeks of data points at 1 minute resolution (average)
RRAs “RRA:AVERAGE:0.5:1:5856” “RRA:AVERAGE:0.5:4:20160” “RRA:AVERAGE:0.5:40:52704”</p>

<hr />
<p>Scalability mode. If on, we summarize over downstream grids, and respect
 authority tags. If off, we take on 2.5.0-era behavior: we do not wrap our output
 in <grid></grid> tags, we ignore all <grid> tags we see, and always assume
 we are the "authority" on data source feeds. This approach does not scale to
 large groups of clusters, but is provided for backwards compatibility.
 default: on
 scalable off</grid></p>

<hr />
<p>The name of this Grid. All the data sources above will be wrapped in a GRID
 tag with this name.
 default: unspecified
 gridname “MyGrid”</p>

<hr />
<p>The authority URL for this grid. Used by other gmetads to locate graphs
 for our data sources. Generally points to a ganglia/
 website on this machine.
 default: “http://hostname/ganglia/”,
   where hostname is the name of this machine, as defined by gethostname().
 authority “http://mycluster.org/newprefix/”</p>

<hr />
<p>List of machines this gmetad will share XML with. Localhost
 is always trusted.
 default: There is no default value
 trusted_hosts 127.0.0.1 169.229.50.165 my.gmetad.org</p>

<hr />
<p>If you want any host which connects to the gmetad XML to receive
 data, then set this value to “on”
 default: off
 all_trusted on</p>

<hr />
<p>If you don’t want gmetad to setuid then set this to off
 default: on
 setuid off</p>

<hr />
<p>User gmetad will setuid to (defaults to “nobody”)
 default: “nobody”
etuid_username “ganglia”</p>

<hr />
<p>Umask to apply to created rrd files and grid directory structure
 default: 0 (files are public)
 umask 022</p>

<hr />
<p>The port gmetad will answer requests for XML
 default: 8651
 xml_port 8651</p>

<hr />
<p>The port gmetad will answer queries for XML. This facility allows
 simple subtree and summation views of the XML tree.
 default: 8652
 interactive_port 8652</p>

<hr />
<p>The number of threads answering XML requests
 default: 4
 server_threads 10</p>

<hr />
<p>Where gmetad stores its round-robin databases
 default: “/var/lib/ganglia/rrds”
 rrd_rootdir “/some/other/place”</p>

<hr />
<p>List of metric prefixes this gmetad will not summarize at cluster or grid level.
 default: There is no default value
 unsummarized_metrics diskstat CPU</p>

<hr />
<p>In earlier versions of gmetad, hostnames were handled in a case
 sensitive manner
 If your hostname directories have been renamed to lower case,
 set this option to 0 to disable backward compatibility.
 From version 3.2, backwards compatibility will be disabled by default.
 default: 1   (for gmetad &lt; 3.2)
 default: 0   (for gmetad &gt;= 3.2)
ase_sensitive_hostnames 0</p>

<hr />
<p>It is now possible to export all the metrics collected by gmetad directly to
 graphite by setting the following attributes.</p>

<p>The hostname or IP address of the Graphite server
 default: unspecified
 carbon_server “my.graphite.box”</p>

<p>The port and protocol on which Graphite is listening
 default: 2003
 carbon_port 2003</p>

<p>default: tcp
 carbon_protocol udp</p>

<p><strong>Deprecated in favor of graphite_path</strong> A prefix to prepend to the
 metric names exported by gmetad. Graphite uses dot-
 separated paths to organize and refer to metrics.
 default: unspecified
 graphite_prefix “datacenter1.gmetad”</p>

<p>A user-definable graphite path. Graphite uses dot-
 separated paths to organize and refer to metrics.
 For reverse compatibility graphite_prefix will be prepended to this
 path, but this behavior should be considered deprecated.
 This path may include 3 variables that will be replaced accordingly:
 %s -&gt; source (cluster name)
 %h -&gt; host (host name)
 %m -&gt; metric (metric name)
 default: graphite_prefix.%s.%h.%m
 graphite_path “datacenter1.gmetad.%s.%h.%m</p>

<p>Number of milliseconds gmetad will wait for a response from the graphite server
 default: 500
 carbon_timeout 500</p>

<hr />
<p>Memcached configuration (if it has been compiled in)
 Format documentation at http://docs.libmemcached.org/libmemcached_configuration.html
 default: “”
 memcached_parameters “–SERVER=127.0.0.1”</p>

<h2 id="section">参考来源</h2>



        <div id="disqus_container">
            <div style="margin-bottom:20px" class="right">
				<wb:share-button appkey="2306590132" addition="simple" type="button" ralateUid="2356527183"></wb:share-button>
            </div>
            <!--<a href="#" class="comment" onclick="return false;">点击查看评论</a>-->
            <div id="disqus_thread"></div>
        </div>
    </div>

	
    <div class="sidenav">
		<iframe width="100%" height="75" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=0&noborder=0&isWeibo=0&isFans=0&uid=2356527183&verifier=1ccfb61e&colors=d6f3f7,ffffff,666666,0082cb,ecfbfd&dpc=1"></iframe>
    </div>

</div>

<script src="/js/post.js" type="text/javascript"></script>


	<div id="gotoTop">Top</div>


    <!--*********************************************************-->
    <!--****** 宝贝儿，看见这个时候，删掉下面的统计代码哦~ ******-->
    <!--*********************************************************-->
	<script>
	  (function(i,s,o,g,r,a,m){
		  i['GoogleAnalyticsObject']=r;i[r]=i[r] || function(){
			(i[r].q=i[r].q||[]).push(arguments)}, i[r].l=1*new Date();
			a=s.createElement(o), m=s.getElementsByTagName(o)[0];
			a.async=1;
			a.src=g;
			m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-48535193-1', 'ningg.github.io');
	  ga('send', 'pageview');
	</script>
    
	
    <script type="text/javascript">
		function gotoTop(min_height){
			$("#gotoTop").click(
				function(){$('html,body').animate({scrollTop:0},700);
			}).hover(
				function(){$(this).addClass("hover");},
				function(){$(this).removeClass("hover");
			});
			min_height ? min_height = min_height : min_height = 600;
			$(window).scroll(function(){
				
				var s = $(window).scrollTop();
				
				if( s > min_height){
					$("#gotoTop").fadeIn(100);
				}else{
					$("#gotoTop").fadeOut(200);
				};
			});
		};
		gotoTop();

        $(function(){
            $('.home-follow').click(function(e){
                e.preventDefault();

                if($('.home-contact').is(':visible')){
                    $('.home-contact').slideUp(100);
                }else{
                    $('.home-contact').slideDown(100);
                }
            });
        })

    </script>
</body>
</html>
